---
import MainLayout from '../layouts/main-layout.astro';
---
<MainLayout title="Reclamo de Plataforma">
  <div class="p-4 rounded-md bg-slate-100 mt-10 text-slate-700 w-1/3 mx-auto">
    <form class="flex-col" id="reclamo-plataforma">

      <div class="flex justify-between my-5">
        <label for="internet">Guias: </label>
        <input type="radio" id="internet" name="tipo" value="guias" class="radio checked:bg-blue-500 bg-slate-200"/>
      </div>
      
      <div class="flex justify-between my-5">
        <label for="mail">Ruteador: </label>
        <input type="radio" id="mail" name="tipo" value="Ruteador" class="radio checked:bg-blue-500 bg-slate-200"/>
      </div>

      <div class="flex justify-between my-5">
        <label for="computadora">Sispo: </label>
        <input type="radio" id="computadora" name="tipo" value="sispo" class="radio checked:bg-blue-500 bg-slate-200"/>
      </div>

      <div class="flex justify-between my-5">
        <label for="plataforma">Mis envios: </label>
        <input type="radio" id="plataforma" name="tipo" value="mis-envios" class="radio checked:bg-blue-500 bg-slate-200"/>
      </div>

      <div class="text-center mt-5">
        <a type="button" href="#" id="link" class="btn">Siguiente</a>
      </div>
      
    </form>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const $reclamo_plataforma = document.getElementById("reclamo-plataforma");
      const $link = document.getElementById("link") as HTMLAnchorElement;

      $link.addEventListener('click',(e:any)=>{
        if(e.target.href.includes('#')){
          window['showToast']("Debes seleccionar al menos una plataforma");
        }
      });

      $reclamo_plataforma.addEventListener('change', (e:any)=>{
        const op = e.target.value;
        $link.href = 'ticket?plataforma='+op;
      })
    });
  </script>
</MainLayout>